<h1>New Employee</h1>
<!--<mat-card>-->
<!--  <mat-card-title>Employee Info</mat-card-title>-->
<!--  <br>-->
<!--  <mat-card-content (focusout)="onBlurEmployeeInfoCard()" [formGroup]="employeeInfo">-->

<!--  </mat-card-content>-->
<!--</mat-card>-->

<mat-vertical-stepper [linear]="true">
  <mat-step label="Employee Info" [formGroup]="employeeInfo" [stepControl]="employeeInfo">
    <mat-form-field>
      <mat-label>SSN</mat-label>
      <input matInput formControlName="SSN">
    </mat-form-field>
    <br>
    <mat-form-field >
      <mat-label>First Name</mat-label>
      <input matInput formControlName="firstName">
    </mat-form-field>
    <br>
    <mat-form-field>
      <mat-label>Middle Initial</mat-label>
      <input matInput formControlName="middleInitial">
    </mat-form-field>
    <br>
    <mat-form-field >
      <mat-label>Last Name</mat-label>
      <input matInput formControlName="lastName">
    </mat-form-field>
    <br>
    <mat-form-field>
      <mat-label>Birth date</mat-label>
      <input matInput [matDatepicker]="birthDate" formControlName="birthDate">
      <mat-datepicker-toggle matSuffix [for]="birthDate"></mat-datepicker-toggle>
      <mat-datepicker #birthDate></mat-datepicker>
    </mat-form-field>
    <br>
    <mat-form-field >
      <mat-label>Address</mat-label>
      <input matInput formControlName="address">
    </mat-form-field>
    <br>
    <mat-form-field >
      <mat-label>Sex</mat-label>
      <input matInput formControlName="sex">
    </mat-form-field>
    <br>
    <mat-form-field >
      <mat-label>Salary</mat-label>
      <input type="number" matInput formControlName="salary">
    </mat-form-field>
    <br>
    <mat-form-field >
      <mat-label>Supervisor SSN</mat-label>
      <input matInput formControlName="supervisorSSN">
    </mat-form-field>
    <br>
    <mat-form-field >
      <mat-label>Department Number</mat-label>
      <input type="number" matInput formControlName="departmentNumber">
    </mat-form-field>
    <br>
    <mat-form-field >
      <mat-label>Email</mat-label>
      <input matInput formControlName="email">
    </mat-form-field>
    <br>
  </mat-step>
  <mat-step label="Assign to Projects" [formGroup]="hoursFormGroup" [stepControl]="hoursFormGroup">
    <table mat-table [dataSource]="projects" style="width: 100%;" (focusout)="onFocusoutHoursTable()">

      <!--- Note that these columns can be defined in any order.
            The actual rendered columns are set as a property on the row definition" -->

      <ng-container matColumnDef="projectNumber">
        <th mat-header-cell *matHeaderCellDef> No. </th>
        <td mat-cell *matCellDef="let element"> {{element.projectNumber}} </td>
      </ng-container>

      <ng-container matColumnDef="projectName">
        <th mat-header-cell *matHeaderCellDef> Name </th>
        <td mat-cell *matCellDef="let element"> {{element.projectName}} </td>
      </ng-container>

      <ng-container matColumnDef="projectHours">
        <th mat-header-cell *matHeaderCellDef> Hours </th>
        <td mat-cell *matCellDef="let element">
          <mat-form-field style="width: 4em;">
            <input type="number" matInput formControlName="{{element.projectNumber}}">
          </mat-form-field>
        </td>
<!--        <td mat-cell *matCellDef="let element"> {{element.projectHours}} </td>-->
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="projectTableColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: projectTableColumns;"></tr>
    </table>
    <br>
    <span *ngIf="hoursFormGroup.invalid" class="alert-danger">* Total hours must be <= 40 and hours column cannot be negative</span>
  </mat-step>

  <mat-step label="Add Dependents" [stepControl]="dependentsFormGroup">
    <!--    ['dependentName', 'sex', 'birthDate', 'relationship'];-->

    <form [formGroup]="dependentsFormGroup">
      <mat-form-field>
        <mat-label>Name</mat-label>
        <input matInput formControlName="dependentName">
      </mat-form-field>
      <br>
      <mat-form-field >
        <mat-label>Sex</mat-label>
        <input matInput formControlName="sex">
      </mat-form-field>
      <br>
      <mat-form-field>
        <mat-label>Birth Date</mat-label>
        <input matInput formControlName="birthDate">
      </mat-form-field>
      <br>
      <mat-form-field >
        <mat-label>Relationship</mat-label>
        <input matInput formControlName="relationship">
      </mat-form-field>
    </form>
    <button mat-stroked-button (click)="onClickButtonAddDependent()">Add dependent</button>
    <br>
    <table *ngIf="newDependents.length > 0" mat-table [dataSource]="newDependentsTableSource" style="width: 100%;">

      <ng-container matColumnDef="dependentName">
        <th mat-header-cell *matHeaderCellDef> Name </th>
        <td mat-cell *matCellDef="let element"> {{element.dependentName}} </td>
      </ng-container>

      <ng-container matColumnDef="sex">
        <th mat-header-cell *matHeaderCellDef> Sex </th>
        <td mat-cell *matCellDef="let element"> {{element.sex}} </td>
      </ng-container>

      <ng-container matColumnDef="relationship">
        <th mat-header-cell *matHeaderCellDef> Relationship </th>
        <td mat-cell *matCellDef="let element"> {{element.relationship}} </td>
      </ng-container>

      <ng-container matColumnDef="birthDate">
        <th mat-header-cell *matHeaderCellDef> Birth Date </th>
        <td mat-cell *matCellDef="let element"> {{element.birthDate.toLocaleString('en-US')}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="dependentTableColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: dependentTableColumns;"></tr>
    </table>
  </mat-step>
</mat-vertical-stepper>

<!--<mat-card>-->
<!--  <mat-card-title>Assign to Projects</mat-card-title>-->
<!--  <br>-->
<!--  <mat-card-content>-->

<!--  </mat-card-content>-->
<!--</mat-card>-->
